<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/iconfont.css">
    <link rel="stylesheet" href="css/article-list.css">
    <title>资源管理</title>
</head>
<body>
    <nav class="breadcrumb">
        <i class="iconfont icon-zhuye"></i>
        首页
        <span class="c-gray en">&gt;</span>
        资讯管理 
        <span class="c-gray en">&gt;</span>
        资讯列表 
        <a href="article-list.html" class="shuaxin">
            <i class="iconfont icon-shuaxin"></i>
        </a>
    </nav>
    <div class="page-container">
        <div class="text-c">
            <button class="btn-primary">关闭选项卡</button>
            <span class="select-box inline">
                <select name="" class="select">
                    <option value="0">全部分类</option>
                    <option value="1">分类一</option>
                    <option value="2">分类二</option>
                </select>
            </span>
            范围：
            <input type="text" class="input-text Wdate" style="width:120px;">
            -
            <input type="text" class="input-text Wdate" style="width:120px;">
            <input type="text" class="input-text" placeholder=" 资讯名称" style="width:250px">
            <button type="submit" class="btn-success">
                <i class="iconfont icon-fangdajing"></i>
                搜索
            </button>
        </div>
        <div class="cl pd-5 bg-1 bk-gray mt-20">
            <span class="l">
                <a href="javascript:;" class="btn-danger">
                    <i class="iconfont icon-shanchu"></i>
                    批量删除
                </a>
                <a href="javascript:;" class="btn-primary">
                    <i class="iconfont icon-haibijiahao"></i>
                    添加资讯
                </a>
            </span>
            <span class="r">
               共有数据：
               <strong>54</strong>
               条
            </span>
        </div>
        <div class="mt-20">
            <div class="dataTables_wrapper no-footer">
                <div class="dataTables_length">
                    <label>
                        显示
                        <select name="DataTables_Table_0_length" class="select">
                            <option value="10">10</option>
                            <option value="25">25</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                        条
                    </label>
                </div>
                <div class="dataTables_filter">
                    <label>
                       从当前数据中检索:
                       <input type="search" class="input-text">
                    </label>
                </div>
                <table class="table_zx">
                    <thead>
                        <tr class="text-c">
                            <th width="25">
                                <input type="checkbox" name="" value="" class="qx">
                            </th>
                            <th width="80">ID</th>
                            <th>标题</th>
                            <th width="80">分类</th>
                            <th width="80">来源</th>
                            <th width="120">更新时间</th>
                            <th width="75">浏览次数</th>
                            <th width="60">发布状态</th>
                            <th width="120">操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="text-c">
                            <td><input type="checkbox" value="" name="" ></td>
                            <td>10001</td>
                            <td class="text-l"><u style="cursor:pointer" class="text-primary" title="查看">资讯标题</u></td>
                            <td>行业动态</td>
                            <td>H-ui</td>
                            <td>2014-6-11 11:11:42</td>
                            <td>21212</td>
                            <td class="td-status">
                                <span class="label label-success radius">已发布</span>
                            </td>
                            <td class="f-14 td-manage">
                                <a style="text-decoration:none" href="javascript:;" title="下架" class="btn1">
                                    <i class="iconfont icon-xiajia xiajia"></i>
                                    <i class="iconfont icon-zhifeiji fabu"></i>
                                </a> 
                                <a style="text-decoration:none" class="ml-5" href="javascript:;" title="编辑">
                                    <i class="iconfont icon-bi"></i>
                                </a>
                                <a style="text-decoration:none" class="ml-5" href="javascript:;" title="删除">
                                    <i class="iconfont icon-shanchu sc"></i>
                                </a>
                            </td>
                        </tr>
                        <tr class="text-c">
                            <td><input type="checkbox" value="" name=""></td>
                            <td>10002</td>
                            <td class="text-l"><u style="cursor:pointer" class="text-primary" title="查看">资讯标题</u></td>
                            <td>行业动态</td>
                            <td>H-ui</td>
                            <td>2014-6-11 11:11:42</td>
                            <td>21212</td>
                            <td class="td-status"><span class="label label-success radius">已发布</span></td>
                            <td class="f-14 td-manage">
                                <a style="text-decoration:none" href="javascript:;" title="下架" class="btn1">
                                    <i class="iconfont icon-xiajia xiajia"></i>
                                    <i class="iconfont icon-zhifeiji fabu"></i>
                                </a> 
                                <a style="text-decoration:none" class="ml-5" href="javascript:;" title="编辑">
                                    <i class="iconfont icon-bi"></i>
                                </a>
                                <a style="text-decoration:none" class="ml-5" href="javascript:;" title="删除">
                                    <i class="iconfont icon-shanchu sc"></i>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="dataTables_info">显示 1 到 2 ，共 2 条</div>
                <div class="dataTables_paginate">
                    <a href="#" class="paginate_button">上一页</a>
                    <span>
                        <a href="#" class="current">1</a>
                    </span>
                    <a href="#" class="paginate_button">下一页</a>
                </div>
            </div> 
        </div>
        <div class="zdc" style="display: none;"></div>
        <div class="box_up" style="display: none;">
            <div class="layui-layer-title">信息</div>
            <div id="" class="layui-layer-content">确认要下架吗？</div>
            <span class="layui-layer-setwin">
                <a href="javascript:;" class="layui-layer-ico layui-layer-close layui-layer-close1"></a>
            </span>
            <div class="layui-layer-btn">
                <a href="javascript:;" class="layui-layer-btn0">确定</a>
                <a href="javascript:;" class="layui-layer-btn1">取消</a>
            </div>
        </div>
    </div>
</body>
</html>
<script src="js/tool.js"></script>
<script>
   
    window.onload = function(){
        // 发布、下架
        let kk = $(".btn1");
        for(let i = 0;i<kk.length;i++){
            kk[i].onclick = function(){
                
                if(kk[i].lastElementChild.style.display == "inline-block"){
                    $(".zdc")[0].style.display = "block";
                    $(".box_up")[0].style.display = "block";
                    $(".layui-layer-content")[0].innerHTML = "确认要发布吗？";
                    $(".layui-layer-btn0")[0].onclick = function(){
                        $(".zdc")[0].style.display = "none";
                        $(".box_up")[0].style.display = "none";
                        kk[i].firstElementChild.style.display = "inline-block"; 
                        kk[i].lastElementChild.style.display = "none";
                        kk[i].parentNode.previousElementSibling.firstElementChild.innerHTML = "已发布";
                        kk[i].parentNode.previousElementSibling.firstElementChild.style.backgroundColor = "#5eb95e";
                    }
                    $(".layui-layer-btn1")[0].onclick = function(){
                        $(".zdc")[0].style.display = "none";
                        $(".box_up")[0].style.display = "none";
                        kk[i].firstElementChild.style.display = "none"; 
                        kk[i].lastElementChild.style.display = "inline-block";
                        kk[i].parentNode.previousElementSibling.firstElementChild.innerHTML = "已下架";
                        kk[i].parentNode.previousElementSibling.firstElementChild.style.backgroundColor = "#999";
                    }
                    $(".layui-layer-ico")[0].onclick = function(){
                        $(".zdc")[0].style.display = "none";
                        $(".box_up")[0].style.display = "none";
                        kk[i].firstElementChild.style.display = "none"; 
                        kk[i].lastElementChild.style.display = "inline-block";
                        kk[i].parentNode.previousElementSibling.firstElementChild.innerHTML = "已下架";
                        kk[i].parentNode.previousElementSibling.firstElementChild.style.backgroundColor = "#999";
                   
                    }
                    
                }else{
                    $(".zdc")[0].style.display = "block";
                    $(".box_up")[0].style.display = "block";
                    $(".layui-layer-content")[0].innerHTML = "确认要下架吗？";
                    $(".layui-layer-btn0")[0].onclick = function(){
                        $(".zdc")[0].style.display = "none";
                        $(".box_up")[0].style.display = "none";
                        kk[i].firstElementChild.style.display = "none"; 
                        kk[i].lastElementChild.style.display = "inline-block";
                        kk[i].parentNode.previousElementSibling.firstElementChild.innerHTML = "已下架";
                        kk[i].parentNode.previousElementSibling.firstElementChild.style.backgroundColor = "#999";
                    }
                    $(".layui-layer-btn1")[0].onclick = function(){
                        $(".zdc")[0].style.display = "none";
                        $(".box_up")[0].style.display = "none";
                        kk[i].firstElementChild.style.display = "inline-block"; 
                        kk[i].lastElementChild.style.display = "none";
                        kk[i].parentNode.previousElementSibling.firstElementChild.innerHTML = "已发布";
                        kk[i].parentNode.previousElementSibling.firstElementChild.style.backgroundColor = "#5eb95e";
                    }
                    $(".layui-layer-ico")[0].onclick = function(){
                        $(".zdc")[0].style.display = "none";
                        $(".box_up")[0].style.display = "none";
                        kk[i].firstElementChild.style.display = "inline-block"; 
                        kk[i].lastElementChild.style.display = "none";
                        kk[i].parentNode.previousElementSibling.firstElementChild.innerHTML = "已发布";
                        kk[i].parentNode.previousElementSibling.firstElementChild.style.backgroundColor = "#5eb95e";
                    
                    }
                    
                }
                
            }
        }
        // 删除
        let ss = $(".sc");
        for(let i = 0;i<ss.length;i++){
            ss[i].onclick = function(){
                $(".zdc")[0].style.display = "block";
                $(".box_up")[0].style.display = "block";
                $(".layui-layer-content")[0].innerHTML = "确认要删除吗？";
                $(".layui-layer-btn0")[0].onclick = function(){
                    $(".zdc")[0].style.display = "none";
                    $(".box_up")[0].style.display = "none";
                    $(".sc")[0].parentElement.parentElement.parentElement.remove();
                    }
                $(".layui-layer-btn1")[0].onclick = function(){
                    $(".zdc")[0].style.display = "none";
                    $(".box_up")[0].style.display = "none";
                  }
                $(".layui-layer-ico")[0].onclick = function(){
                    $(".zdc")[0].style.display = "none";
                    $(".box_up")[0].style.display = "none";
                }
            }
        }
        // 全选、反选
        $(".qx")[0].onclick = function(){
            if (this.checked) {
                for(var i=0;i<$("tbody")[0].children.length;i++){
                    $("tbody")[0].children[i].firstElementChild.firstElementChild.checked = "checked";
				}
            } else {
                for(var i=0;i<$("tbody")[0].children.length;i++){
                    $("tbody")[0].children[i].firstElementChild.firstElementChild.checked = null;
				}
            }
        }


    }
    // let cc = $("tbody")[0].children[0].firstElementChild.firstElementChild.checked;
    // for(let i =0;i<cc.length;i++){
    //     cc[i].firstElementChild.firstElementChild.checked;
    // }
    // console.log(cc);

</script>